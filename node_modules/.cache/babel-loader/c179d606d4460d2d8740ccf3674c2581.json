{"ast":null,"code":"import _classCallCheck from\"C:/Users/SHUBHAM/Desktop/Edyoda-ReactFinal-Assignmt/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/SHUBHAM/Desktop/Edyoda-ReactFinal-Assignmt/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/SHUBHAM/Desktop/Edyoda-ReactFinal-Assignmt/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/SHUBHAM/Desktop/Edyoda-ReactFinal-Assignmt/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import classes from\"./ChangeAvatar.module.css\";import profile from\"../../Assests/images/avatar.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChangeAvatar=/*#__PURE__*/function(_Component){_inherits(ChangeAvatar,_Component);var _super=_createSuper(ChangeAvatar);function ChangeAvatar(){var _this;_classCallCheck(this,ChangeAvatar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={profileImg:profile,id:\"someUniqueId\",// I would use this.props.id for a real world implementation\nimageURI:null,Accountvalue:\"\"// uploadButton:true,\n// AccountValue:this.props.Accountvalue\n};_this.deletimg=function(){var AccountValue=_this.props.AccountValue;console.log(AccountValue);if(AccountValue){var acctlist=localStorage.getItem(\"accountdata\")===null?[]:JSON.parse(localStorage.getItem(\"accountdata\"));//const filteritem = this.state.items.filter(item => item.key !== key);\nacctlist[\"accountsPage\"][AccountValue][\"profilePic\"]=\"\";// Image deleted\nlocalStorage.setItem(\"accountdata\",JSON.stringify(acctlist));}_this.setState({profileImg:profile});};return _this;}_createClass(ChangeAvatar,[{key:\"componentDidUpdate\",value:function componentDidUpdate(oldProps){if(oldProps.ChangeAvatar!==this.props.ChangeAvatar){var profilePic=this.props.ChangeAvatar.profilePic;this.setState({profileImg:typeof profilePic!==\"undefined\"&&profilePic!==\"\"?profilePic:profile,Accountvalue:this.props.Accountvalue});}}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(){if(typeof this.props.ChangeAvatar===\"undefined\"){return false;}else{return true;}}},{key:\"readURI\",value:function readURI(e){if(e.target.files&&e.target.files[0]){console.log(e.target.files[0]);var filename=e.target.files[0].name;var regx=/\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(filename);if(regx===false){alert(\"Invalid file type\");return false;}var reader=new FileReader();reader.onload=function(e){var acctlist=localStorage.getItem(\"accountdata\")===null?[]:JSON.parse(localStorage.getItem(\"accountdata\"));acctlist[\"accountsPage\"][this.props.Accountvalue][\"profilePic\"]=e.target.result;localStorage.setItem(\"accountdata\",JSON.stringify(acctlist));this.setState({imageURI:e.target.result,profileImg:e.target.result});}.bind(this);reader.readAsDataURL(e.target.files[0]);}}},{key:\"handleChange\",value:function handleChange(e){this.readURI(e);// maybe call this with webworker or async library?\nif(this.props.onChange!==undefined)this.props.onChange(e);// propagate to parent component\n}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:[\"tm-avatar-container\",classes.tm_col_avatar].join(\" \"),children:/*#__PURE__*/_jsxs(\"div\",{className:classes.tm_bg_primary_dark,children:[/*#__PURE__*/_jsx(\"h2\",{className:classes.tm_block_title,children:\"Change Avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.tm_avatar_container,children:[/*#__PURE__*/_jsx(\"img\",{src:this.state.profileImg,alt:\"Avatar\",className:[\"img-fluid\",\"mb-4\",classes.tm_avatar].join(\" \")}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:[\"tm-avatar-delete-link\",classes.tm_avatar_delete_link].join(\" \"),onClick:this.deletimg,children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-trash-alt tm-product-delete-icon\"})})]}),this.state.Accountvalue===\"\"?null:/*#__PURE__*/_jsx(\"label\",{htmlFor:this.state.id,className:\"button\",children:\"Upload an image\"}),/*#__PURE__*/_jsx(\"input\",{id:this.state.id,type:\"file\",onChange:this.handleChange.bind(this),className:\"show-for-sr\"})]})});}}]);return ChangeAvatar;}(Component);export default ChangeAvatar;","map":{"version":3,"names":["React","Component","classes","profile","ChangeAvatar","state","profileImg","id","imageURI","Accountvalue","deletimg","AccountValue","props","console","log","acctlist","localStorage","getItem","JSON","parse","setItem","stringify","setState","oldProps","profilePic","e","target","files","filename","name","regx","test","alert","reader","FileReader","onload","result","bind","readAsDataURL","readURI","onChange","undefined","tm_col_avatar","join","tm_bg_primary_dark","tm_block_title","tm_avatar_container","tm_avatar","tm_avatar_delete_link","handleChange"],"sources":["C:/Users/SHUBHAM/Desktop/Edyoda-ReactFinal-Assignmt/src/Containers/AccountPage/ChangeAvatar.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport classes from \"./ChangeAvatar.module.css\";\nimport profile from \"../../Assests/images/avatar.png\";\nclass ChangeAvatar extends Component {\n  state = {\n    profileImg: profile,\n    id: \"someUniqueId\", // I would use this.props.id for a real world implementation\n    imageURI: null,\n    Accountvalue: \"\",\n    // uploadButton:true,\n    // AccountValue:this.props.Accountvalue\n  };\n\n  componentDidUpdate(oldProps) {\n    if (oldProps.ChangeAvatar !== this.props.ChangeAvatar) {\n      const { profilePic } = this.props.ChangeAvatar;\n      this.setState({\n        profileImg:\n          typeof profilePic !== \"undefined\" && profilePic !== \"\"\n            ? profilePic\n            : profile,\n        Accountvalue: this.props.Accountvalue,\n      });\n    }\n  }\n\n  shouldComponentUpdate() {\n    if (typeof this.props.ChangeAvatar === \"undefined\") {\n      return false;\n    } else {\n      return true;\n    }\n  }\n  deletimg = () => {\n    let AccountValue = this.props.AccountValue;\n    console.log(AccountValue);\n    if (AccountValue) {\n      let acctlist =\n        localStorage.getItem(\"accountdata\") === null\n          ? []\n          : JSON.parse(localStorage.getItem(\"accountdata\"));\n      //const filteritem = this.state.items.filter(item => item.key !== key);\n      acctlist[\"accountsPage\"][AccountValue][\"profilePic\"] = \"\"; // Image deleted\n      localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n    }\n\n    this.setState({\n      profileImg: profile,\n    });\n  };\n\n  readURI(e) {\n    if (e.target.files && e.target.files[0]) {\n      console.log(e.target.files[0]);\n      let filename = e.target.files[0].name;\n      let regx = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(filename);\n\n      if (regx === false) {\n        alert(\"Invalid file type\");\n        return false;\n      }\n      let reader = new FileReader();\n      reader.onload = function (e) {\n        let acctlist =\n          localStorage.getItem(\"accountdata\") === null\n            ? []\n            : JSON.parse(localStorage.getItem(\"accountdata\"));\n        acctlist[\"accountsPage\"][this.props.Accountvalue][\"profilePic\"] =\n          e.target.result;\n        localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n\n        this.setState({\n          imageURI: e.target.result,\n          profileImg: e.target.result,\n        });\n      }.bind(this);\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  }\n\n  handleChange(e) {\n    this.readURI(e); // maybe call this with webworker or async library?\n    if (this.props.onChange !== undefined) this.props.onChange(e); // propagate to parent component\n  }\n  render() {\n    return (\n      <div className={[\"tm-avatar-container\", classes.tm_col_avatar].join(\" \")}>\n        <div className={classes.tm_bg_primary_dark}>\n          <h2 className={classes.tm_block_title}>Change Avatar</h2>\n          <div className={classes.tm_avatar_container}>\n            <img\n              src={this.state.profileImg}\n              alt=\"Avatar\"\n              className={[\"img-fluid\", \"mb-4\", classes.tm_avatar].join(\" \")}\n            />\n            <a\n              href=\"/\"\n              className={[\n                \"tm-avatar-delete-link\",\n                classes.tm_avatar_delete_link,\n              ].join(\" \")}\n              onClick={this.deletimg}\n            >\n              <i className=\"far fa-trash-alt tm-product-delete-icon\"></i>\n            </a>\n          </div>\n\n          {this.state.Accountvalue === \"\" ? null : (\n            <label htmlFor={this.state.id} className=\"button\">\n              Upload an image\n            </label>\n          )}\n          <input\n            id={this.state.id}\n            type=\"file\"\n            onChange={this.handleChange.bind(this)}\n            className=\"show-for-sr\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ChangeAvatar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}