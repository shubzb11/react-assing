{"ast":null,"code":"import _defineProperty from\"C:/Users/SHUBHAM/Desktop/Edyoda-ReactFinal-Assignmt/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/SHUBHAM/Desktop/Edyoda-ReactFinal-Assignmt/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/SHUBHAM/Desktop/Edyoda-ReactFinal-Assignmt/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/SHUBHAM/Desktop/Edyoda-ReactFinal-Assignmt/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/SHUBHAM/Desktop/Edyoda-ReactFinal-Assignmt/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import classes from\"./Login.module.css\";import{connect}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var emailRegex=RegExp(/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/);var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",password:\"\",formError:{username:\"\",password:\"\"}};_this.filterAccountData=function(e){var acctlist=localStorage.getItem(\"accountdata\")===null?[]:JSON.parse(localStorage.getItem(\"accountdata\"));var userData=Object.values(acctlist[\"accountsPage\"]);console.log(userData);var data=userData.filter(function(data){return data.email===_this.state.username;});if(data.length>0){if(data[0][\"email\"]===_this.state.username&&data[0][\"password\"]===_this.state.password){acctlist[\"isLogged\"]=true;localStorage.setItem(\"accountdata\",JSON.stringify(acctlist));return true;}}return false;};_this.handleSubmit=function(e){e.preventDefault();var isLoggedIn=_this.filterAccountData(e);if(isLoggedIn){_this.props.onUserLoggedIn();_this.props.history.push(\"/dashboard\");}console.log(isLoggedIn);};_this.handlechange=function(e){var name=e.target.name;var value=e.target.value;var formError=_this.state.formError;switch(name){case\"username\":formError.password=value.length<6&&value.length>0?\"*minimum 6 characters required\":\"\";break;case\"password\":formError.username=emailRegex.test(value)&&value.length>0?\"\":\"*invalid password\";break;default:}_this.setState(_defineProperty({},name,value));};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var formError=this.state.formError;return/*#__PURE__*/_jsx(\"div\",{className:[\"container\",classes.spc].join(\" \"),children:/*#__PURE__*/_jsx(\"div\",{className:[\"row\"],children:/*#__PURE__*/_jsx(\"div\",{className:[\"col-12\",\"mx-auto\",classes.tm_login_col].join(\" \"),children:/*#__PURE__*/_jsxs(\"div\",{className:classes.tm_bg_primary_dark,children:[/*#__PURE__*/_jsx(\"div\",{className:[\"row\"],children:/*#__PURE__*/_jsx(\"div\",{className:[\"col-12\",\"text-center\"],children:/*#__PURE__*/_jsx(\"h2\",{className:classes.tm_block_title,children:\"Welcome to Dashboard, Login\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"index.html\",children:[/*#__PURE__*/_jsxs(\"div\",{className:[\"form-group\"],children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",type:\"text\",className:[\"form-control\"],id:\"username\",value:this.state.username,onChange:this.handlechange,required:\"\"})]}),formError.username.length>0&&/*#__PURE__*/_jsx(\"span\",{className:classes.Errormessage,children:formError.username}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",className:[\"form-control\"],id:\"password\",value:this.state.password,onChange:this.handlechange,required:\"\"})]}),formError.password.length>0&&/*#__PURE__*/_jsx(\"span\",{className:classes.Errormessage,children:formError.password}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group mt-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:this.handleSubmit,className:[\"button\"],children:\"Login\"})})]})})})]})})})});}}]);return Login;}(Component);// redux\nvar mapDispatchToProps=function mapDispatchToProps(dispatch){return{onUserLoggedIn:function onUserLoggedIn(){dispatch({type:\"USER_LOGIN\"});}};};export default connect(null,mapDispatchToProps)(Login);// export default Login;","map":{"version":3,"names":["React","Component","classes","connect","emailRegex","RegExp","Login","state","username","password","formError","filterAccountData","e","acctlist","localStorage","getItem","JSON","parse","userData","Object","values","console","log","data","filter","email","length","setItem","stringify","handleSubmit","preventDefault","isLoggedIn","props","onUserLoggedIn","history","push","handlechange","name","target","value","test","setState","spc","join","tm_login_col","tm_bg_primary_dark","tm_block_title","Errormessage","mapDispatchToProps","dispatch","type"],"sources":["C:/Users/SHUBHAM/Desktop/Edyoda-ReactFinal-Assignmt/src/Containers/Login/Login.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport classes from \"./Login.module.css\";\nimport { connect } from \"react-redux\";\nconst emailRegex = RegExp(\n  /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n);\n\nclass Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    formError: {\n      username: \"\",\n      password: \"\",\n    },\n  };\n\n  filterAccountData = (e) => {\n    let acctlist =\n      localStorage.getItem(\"accountdata\") === null\n        ? []\n        : JSON.parse(localStorage.getItem(\"accountdata\"));\n    let userData = Object.values(acctlist[\"accountsPage\"]);\n    console.log(userData);\n    let data = userData.filter((data) => data.email === this.state.username);\n\n    if (data.length > 0) {\n      if (\n        data[0][\"email\"] === this.state.username &&\n        data[0][\"password\"] === this.state.password\n      ) {\n        acctlist[\"isLogged\"] = true;\n        localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    let isLoggedIn = this.filterAccountData(e);\n\n    if (isLoggedIn) {\n      this.props.onUserLoggedIn();\n      this.props.history.push(\"/dashboard\");\n    }\n    console.log(isLoggedIn);\n  };\n  handlechange = (e) => {\n    let name = e.target.name;\n    let value = e.target.value;\n    let formError = this.state.formError;\n    switch (name) {\n      case \"username\":\n        formError.password =\n          value.length < 6 && value.length > 0\n            ? \"*minimum 6 characters required\"\n            : \"\";\n        break;\n      case \"password\":\n        formError.username =\n          emailRegex.test(value) && value.length > 0 ? \"\" : \"*invalid password\";\n        break;\n      default:\n    }\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  render() {\n    const { formError } = this.state;\n    return (\n      <div className={[\"container\", classes.spc].join(\" \")}>\n        <div className={[\"row\"]}>\n          <div\n            className={[\"col-12\", \"mx-auto\", classes.tm_login_col].join(\" \")}\n          >\n            <div className={classes.tm_bg_primary_dark}>\n              <div className={[\"row\"]}>\n                <div className={[\"col-12\", \"text-center\"]}>\n                  <h2 className={classes.tm_block_title}>\n                    Welcome to Dashboard, Login\n                  </h2>\n                </div>\n              </div>\n              <div className=\"row mt-2\">\n                <div className=\"col-12\">\n                  <form action=\"index.html\">\n                    <div className={[\"form-group\"]}>\n                      <label htmlFor=\"username\">Username</label>\n                      <input\n                        name=\"username\"\n                        type=\"text\"\n                        className={[\"form-control\"]}\n                        id=\"username\"\n                        value={this.state.username}\n                        onChange={this.handlechange}\n                        required=\"\"\n                      />\n                    </div>\n                    {formError.username.length > 0 && (\n                      <span className={classes.Errormessage}>\n                        {formError.username}\n                      </span>\n                    )}\n                    <div className=\"form-group mt-3\">\n                      <label htmlFor=\"password\">Password</label>\n                      <input\n                        name=\"password\"\n                        type=\"password\"\n                        className={[\"form-control\"]}\n                        id=\"password\"\n                        value={this.state.password}\n                        onChange={this.handlechange}\n                        required=\"\"\n                      />\n                    </div>\n                    {formError.password.length > 0 && (\n                      <span className={classes.Errormessage}>\n                        {formError.password}\n                      </span>\n                    )}\n                    <div className=\"form-group mt-4\">\n                      <button\n                        type=\"submit\"\n                        onClick={this.handleSubmit}\n                        className={[\"button\"]}\n                      >\n                        Login\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// redux\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onUserLoggedIn: () => {\n      dispatch({ type: \"USER_LOGIN\" });\n    },\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Login);\n\n// export default Login;\n"],"mappings":"+pBAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,QAAP,KAAoB,oBAApB,CACA,OAASC,OAAT,KAAwB,aAAxB,C,wFACA,GAAMC,WAAU,CAAGC,MAAM,CACvB,sEADuB,CAAzB,C,GAIMC,M,uTACJC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,CAENC,QAAQ,CAAE,EAFJ,CAGNC,SAAS,CAAE,CACTF,QAAQ,CAAE,EADD,CAETC,QAAQ,CAAE,EAFD,CAHL,C,OASRE,iB,CAAoB,SAACC,CAAD,CAAO,CACzB,GAAIC,SAAQ,CACVC,YAAY,CAACC,OAAb,CAAqB,aAArB,IAAwC,IAAxC,CACI,EADJ,CAEIC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAHN,CAIA,GAAIG,SAAQ,CAAGC,MAAM,CAACC,MAAP,CAAcP,QAAQ,CAAC,cAAD,CAAtB,CAAf,CACAQ,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EACA,GAAIK,KAAI,CAAGL,QAAQ,CAACM,MAAT,CAAgB,SAACD,IAAD,QAAUA,KAAI,CAACE,KAAL,GAAe,MAAKlB,KAAL,CAAWC,QAApC,EAAhB,CAAX,CAEA,GAAIe,IAAI,CAACG,MAAL,CAAc,CAAlB,CAAqB,CACnB,GACEH,IAAI,CAAC,CAAD,CAAJ,CAAQ,OAAR,IAAqB,MAAKhB,KAAL,CAAWC,QAAhC,EACAe,IAAI,CAAC,CAAD,CAAJ,CAAQ,UAAR,IAAwB,MAAKhB,KAAL,CAAWE,QAFrC,CAGE,CACAI,QAAQ,CAAC,UAAD,CAAR,CAAuB,IAAvB,CACAC,YAAY,CAACa,OAAb,CAAqB,aAArB,CAAoCX,IAAI,CAACY,SAAL,CAAef,QAAf,CAApC,EACA,MAAO,KAAP,CACD,CACF,CAED,MAAO,MAAP,CACD,C,OAEDgB,Y,CAAe,SAACjB,CAAD,CAAO,CACpBA,CAAC,CAACkB,cAAF,GACA,GAAIC,WAAU,CAAG,MAAKpB,iBAAL,CAAuBC,CAAvB,CAAjB,CAEA,GAAImB,UAAJ,CAAgB,CACd,MAAKC,KAAL,CAAWC,cAAX,GACA,MAAKD,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,EACD,CACDd,OAAO,CAACC,GAAR,CAAYS,UAAZ,EACD,C,OACDK,Y,CAAe,SAACxB,CAAD,CAAO,CACpB,GAAIyB,KAAI,CAAGzB,CAAC,CAAC0B,MAAF,CAASD,IAApB,CACA,GAAIE,MAAK,CAAG3B,CAAC,CAAC0B,MAAF,CAASC,KAArB,CACA,GAAI7B,UAAS,CAAG,MAAKH,KAAL,CAAWG,SAA3B,CACA,OAAQ2B,IAAR,EACE,IAAK,UAAL,CACE3B,SAAS,CAACD,QAAV,CACE8B,KAAK,CAACb,MAAN,CAAe,CAAf,EAAoBa,KAAK,CAACb,MAAN,CAAe,CAAnC,CACI,gCADJ,CAEI,EAHN,CAIA,MACF,IAAK,UAAL,CACEhB,SAAS,CAACF,QAAV,CACEJ,UAAU,CAACoC,IAAX,CAAgBD,KAAhB,GAA0BA,KAAK,CAACb,MAAN,CAAe,CAAzC,CAA6C,EAA7C,CAAkD,mBADpD,CAEA,MACF,QAXF,CAcA,MAAKe,QAAL,oBACGJ,IADH,CACUE,KADV,GAGD,C,uDAED,iBAAS,CACP,GAAQ7B,UAAR,CAAsB,KAAKH,KAA3B,CAAQG,SAAR,CACA,mBACE,YAAK,SAAS,CAAE,CAAC,WAAD,CAAcR,OAAO,CAACwC,GAAtB,EAA2BC,IAA3B,CAAgC,GAAhC,CAAhB,uBACE,YAAK,SAAS,CAAE,CAAC,KAAD,CAAhB,uBACE,YACE,SAAS,CAAE,CAAC,QAAD,CAAW,SAAX,CAAsBzC,OAAO,CAAC0C,YAA9B,EAA4CD,IAA5C,CAAiD,GAAjD,CADb,uBAGE,aAAK,SAAS,CAAEzC,OAAO,CAAC2C,kBAAxB,wBACE,YAAK,SAAS,CAAE,CAAC,KAAD,CAAhB,uBACE,YAAK,SAAS,CAAE,CAAC,QAAD,CAAW,aAAX,CAAhB,uBACE,WAAI,SAAS,CAAE3C,OAAO,CAAC4C,cAAvB,yCADF,EADF,EADF,cAQE,YAAK,SAAS,CAAC,UAAf,uBACE,YAAK,SAAS,CAAC,QAAf,uBACE,cAAM,MAAM,CAAC,YAAb,wBACE,aAAK,SAAS,CAAE,CAAC,YAAD,CAAhB,wBACE,cAAO,OAAO,CAAC,UAAf,sBADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,MAFP,CAGE,SAAS,CAAE,CAAC,cAAD,CAHb,CAIE,EAAE,CAAC,UAJL,CAKE,KAAK,CAAE,KAAKvC,KAAL,CAAWC,QALpB,CAME,QAAQ,CAAE,KAAK4B,YANjB,CAOE,QAAQ,CAAC,EAPX,EAFF,GADF,CAaG1B,SAAS,CAACF,QAAV,CAAmBkB,MAAnB,CAA4B,CAA5B,eACC,aAAM,SAAS,CAAExB,OAAO,CAAC6C,YAAzB,UACGrC,SAAS,CAACF,QADb,EAdJ,cAkBE,aAAK,SAAS,CAAC,iBAAf,wBACE,cAAO,OAAO,CAAC,UAAf,sBADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,SAAS,CAAE,CAAC,cAAD,CAHb,CAIE,EAAE,CAAC,UAJL,CAKE,KAAK,CAAE,KAAKD,KAAL,CAAWE,QALpB,CAME,QAAQ,CAAE,KAAK2B,YANjB,CAOE,QAAQ,CAAC,EAPX,EAFF,GAlBF,CA8BG1B,SAAS,CAACD,QAAV,CAAmBiB,MAAnB,CAA4B,CAA5B,eACC,aAAM,SAAS,CAAExB,OAAO,CAAC6C,YAAzB,UACGrC,SAAS,CAACD,QADb,EA/BJ,cAmCE,YAAK,SAAS,CAAC,iBAAf,uBACE,eACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE,KAAKoB,YAFhB,CAGE,SAAS,CAAE,CAAC,QAAD,CAHb,mBADF,EAnCF,GADF,EADF,EARF,GAHF,EADF,EADF,EADF,CAoED,C,mBAxIiB5B,S,EA2IpB;AACA,GAAM+C,mBAAkB,CAAG,QAArBA,mBAAqB,CAACC,QAAD,CAAc,CACvC,MAAO,CACLhB,cAAc,CAAE,yBAAM,CACpBgB,QAAQ,CAAC,CAAEC,IAAI,CAAE,YAAR,CAAD,CAAR,CACD,CAHI,CAAP,CAKD,CAND,CAQA,cAAe/C,QAAO,CAAC,IAAD,CAAO6C,kBAAP,CAAP,CAAkC1C,KAAlC,CAAf,CAEA"},"metadata":{},"sourceType":"module"}